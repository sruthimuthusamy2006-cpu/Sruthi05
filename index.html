<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>College Event Volunteering</title>
  <style>
    /* ====== CSS Styling ====== */
    body {
      font-family: Arial, sans-serif;
      background:#f5f5f5;
      margin: 0;
      padding: 0;
    }
    header {
      background:#1d3557;
      color:#fff;
      text-align:center;
      padding:15px 0;
    }
    .container {
      width:80%;
      margin:30px auto;
      background:#fff;
      padding:20px;
      border-radius:8px;
      box-shadow:0 2px 8px rgba(0,0,0,0.2);
    }
    input, select, textarea {
      width:100%;
      margin:10px 0;
      padding:8px;
      border:1px solid #ccc;
      border-radius:4px;
    }
    button {
      background:#1d3557;
      color:#fff;
      padding:10px 15px;
      border:none;
      border-radius:4px;
      cursor:pointer;
    }
    button:hover {
      opacity:0.8;
    }
    #message{
      margin-top:15px;
      color:green;
      font-weight:bold;
    }
    table{
      width:100%;
      margin-top:20px;
      border-collapse: collapse;
    }
    th, td{
      padding:8px;
      border:1px solid #ccc;
      text-align:left;
    }
    th{
      background:#e0e0e0;
    }
  </style>
</head>
<body>
  <!-- ===== HTML ===== -->
  <header>
    <h1>Volunteering in College Events</h1>
  </header>

  <div class="container">
    <h2>Volunteer Registration Form</h2>
    <form id="volunteerForm">
      <label>Full Name:</label>
      <input type="text" id="name" required>

      <label>Email:</label>
      <input type="email" id="email" required>

      <label>Department:</label>
      <select id="department" required>
        <option value="">--Select Department--</option>
        <option value="Computer Science">Computer Science with data Analytics</option>
        <option value="Commerce">Commerce</option>
        <option value="Physics">Physics</option>
        <option value="Literature">Literature</option>
      </select>

      <label>Why do you want to volunteer?</label>
      <textarea id="reason" rows="4" required></textarea>

      <button type="submit">Submit</button>
    </form>

    <div id="message"></div>

    <!-- Total Count + Table -->
    <h3 id="totalVolunteers"></h3>
    <table id="volunteerTable" style="display:none;">
      <thead>
        <tr>
          <th>Name</th>
          <th>Department</th>
          <th>Reason / Suggestion</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <!-- ===== JavaScript ===== -->
  <script>
    const form = document.getElementById("volunteerForm");
    const messageDiv = document.getElementById("message");
    const table = document.getElementById("volunteerTable");
    const tbody = table.querySelector("tbody");
    const totalVolunteers = document.getElementById("totalVolunteers");

    // array to store all registrations
    const volunteers = [];

    form.addEventListener("submit", function (e) {
      e.preventDefault();

      // get values
      const name = document.getElementById("name").value;
      const department = document.getElementById("department").value;
      const reason = document.getElementById("reason").value;

      // add to the array
      volunteers.push({
        name: name,
        department: department,
        reason: reason
      });

      // success message
      messageDiv.innerText = `${name} from ${department} registered successfully as a volunteer.`;

      // update table
      updateVolunteerTable();

      // clear form
      form.reset();
    });

    function updateVolunteerTable() {
      // show total count
      totalVolunteers.innerText = "Total Volunteers: " + volunteers.length;

      // show the table if at least one entry
      if (volunteers.length > 0) {
        table.style.display = "table";
      }

      // clear previous table rows
      tbody.innerHTML = "";

      // generate rows
      volunteers.forEach(v => {
        const row = document.createElement("tr");
        row.innerHTML = `
          <td>${v.name}</td>
          <td>${v.department}</td>
          <td>${v.reason}</td>
        `;
        tbody.appendChild(row);
      });
    }
  </script>
</body>
</html>
